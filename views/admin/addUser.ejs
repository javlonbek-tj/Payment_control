<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Attendance Dashboard | By Code Info</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- custom css file link  -->
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
<section class="signup container">
    <div class="mb-5 fs-4"><i class="fa-solid fa-backward text-warning me-2"></i> <a href="/<%= (update) ? users/user.id : '' %>">Orqaga</a></div> 
    <% if(errorMessage) { %>
      <h3 class="text-center text-danger mb-5"><%= errorMessage %></h3>
      <% } %>
    <div class="signup-content text-center">
    <div class="signup-form">
      <h2 class="text-success"><%= (update) ? "Ma'lumotlarni o'zgartirish" : "Ro'yxatdan o'tish" %></h1>
        <form method="POST" class="register-form fs-4 mt-5" id="register-form" action="/admin/<%= (update) ? 'changeUserInfo' : 'addUser' %>" novalidate>
        <div class="form-group mb-5">
            <label for="firstname"><i class="fa-solid fa-user me-4 fs-5"></i></label>
          <input
            type="text"
            name="firstname"
            id="firstname"
            placeholder="Ism Familiya"
            value="<%= (update || error) ? student.firstname : '' %>"
          />
        </div>
        <div class="form-group mb-5">
            <label for="lastname"><i class="fa-solid fa-user me-4 fs-5 text-primary"></i></label>
          <input
            type="text"
            name="lastname"
            id="lastname"
            placeholder="Sharif"
            value="<%= (update || error) ? student.lastname : '' %>"
          />
        </div>
        <div class="form-group mb-5">
            <label for="course"><i class="fa-solid fa-book me-4 fs-5"></i></label>
          <select name="course">
            <option <%= (update || error && student.course) ? '' : 'selected' %> disabled>Kursni tanlang</option>
            <option value="Matematika" <%= (student.course === 'Matematika') ? 'selected' : '' %>>Matematika</option>
            <option value="Ingliz tili" <%= (student.course === 'Ingliz tili') ? 'selected' : '' %>>Ingliz tili</option>
            <option value="Fizika" <%= (student.course === 'Fizika') ? 'selected' : '' %>>Fizika</option>
            <option value="Kimyo" <%= (student.course === 'Kimyo') ? 'selected' : '' %>>Kimyo</option>
          </select>
        </div>
        <div class="form-group mb-5">
            <label for="mentor"><i class="fa-solid fa-person-chalkboard me-4 fs-5"></i></label>
          <select name="mentor">
            <option <%= (update || error && student.mentor) ? '' : 'selected' %> disabled>O'qituvchini tanlang</option>
            <option value="Raximov Alisher" <%= (student.mentor === 'Raximov Alisher') ? 'selected' : '' %>>Raximov Alisher</option>
            <option value="Qodirov Nodir" <%= (student.mentor === 'Qodirov Nodir') ? 'selected' : '' %>>Qodirov Nodir</option>
            <option value="Fozilov Kozim" <%= (student.mentor === 'Fozilov Kozim') ? 'selected' : '' %>>Fozilov Kozim</option>
            <option value="Sattorov Tolib" <%= (student.mentor === 'Sattorov Tolib') ? 'selected' : '' %>>Sattorov Tolib</option>
          </select>
        </div>
        <% if(!update) {%>
            <div class="form-group mb-5">
                <label for="date"><i class="fa-solid fa-calendar-days me-4 fs-5"></i></label>
                <input type="date" id="date" name="date">
              </div>
              <% } %>
        <div class="form-group mb-5">
            <label for="login"><i class="fa-solid fa-lock me-4 fs-5 text-success"></i></label>
          <input
            type="password"
            name="login"
            id="login"
            placeholder="Login"
            value="<%= (update || error) ? student.login : '' %>"
          />
        </div>
        <div class="form-group mb-5">
            <label for="password"><i class="fa-solid fa-lock me-4 fs-5"></i></label>
            <input
              type="password"
              name="password"
              id="password"
              placeholder="Parol"
              value="<%= (error) ? student.password : '' %>"
            />
          </div>
          <div class="form-check mb-5 d-flex align-items-center ms-4">
            <input class="me-4" type="checkbox" value="admin" name="isAdmin" id="flexCheckDefault" <%= (student.isAdmin) ? 'checked' : ''%>>
            <label class="form-check-label" for="flexCheckDefault">
             Admin
             </label>
          </div>
        <div class="form-button mt-5">
            <% if(update) { %>
                <input type="hidden" name="userId" value="<%= student.id%>">
            <% } %>    
          <input type="submit" name="signup" id="signup" class="form-submit py-3 px-5" value="<%= (update) ? 'O`zgartirish': 'Ro`yxatdan o`tish'%>" />
        </div>
      </form>
    </div>
  </div>
</section>
<script src="/js/index.js"></script>
</body>
</html>
